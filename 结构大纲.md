SmartHome_Ctrl/
├── Core/
│   ├── Inc/
│   │   ├── main.h
│   │   └── ...
│   ├── Src/
│   │   ├── main.c
│   │   ├── freertos.c
│   │   ├── stm32f4xx_it.c
│   │   └── ...
│   └── Startup/
│       └── startup_stm32f407vetx.s
├── Drivers/
│   ├── CMSIS/
│   ├── STM32F4xx_HAL_Driver/
│   └── ...
├── Middlewares/
│   └── Third_Party/
│       └── FreeRTOS/
├── **App/**
│   ├── Inc/
│   │   ├── app_tasks.h        // 任务创建与通信句柄声明
│   │   ├── app_mqtt.h         // MQTT应用层封装
│   │   └── ...
│   ├── Src/
│   │   ├── app_tasks.c        // 任务创建与通信初始化
│   │   ├── app_mqtt.c         // MQTT应用逻辑
│   │   └── ...
│   └── **Config/**
│       ├── inc/
│       │   ├── bsp_config.h   // 引脚、外设宏定义
│       │   └── app_config.h   // 应用参数（WiFi密码、MQTT服务器等）
│       └── src/
│           └── ...
├── **BSP/**
│   ├── Inc/
│   │   ├── bsp_log.h          // 日志系统头文件
│   │   ├── bsp_dht11.h
│   │   ├── bsp_encoder.h
│   │   ├── bsp_st7735.h
│   │   ├── bsp_esp8266.h
│   │   ├── bsp_relay.h
│   │   └── ...
│   ├── Src/
│   │   ├── bsp_log.c          // 日志系统实现
│   │   ├── bsp_dht11.c
│   │   ├── bsp_encoder.c
│   │   ├── bsp_st7735.c
│   │   ├── bsp_esp8266.c
│   │   ├── bsp_relay.c
│   │   └── ...
│   └── **Devices/**
│       ├── inc/
│       │   └── ...
│       └── src/
│           └── ...            // 存放非常特定的驱动，如字库
├── **Modules/**
│   ├── Inc/
│   │   ├── gui_manager.h      // GUI界面状态机
│   │   ├── sensor_manager.h   // 传感器数据融合处理
│   │   └── ...
│   ├── Src/
│   │   ├── gui_manager.c
│   │   ├── sensor_manager.c
│   │   └── ...
│   └── ...
├── **System/**
│   ├── Inc/
│   │   ├── sys_error.h        // 错误码定义
│   │   └── ...
│   ├── Src/
│   │   └── ...
│   └── ...
└── README.md